  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "first_name" varchar, "last_name" varchar, "fullname" varchar, "capacity" integer, "cost" decimal, "employee" boolean, "active" boolean, "image" varchar, "avatar_file_name" varchar, "avatar_content_type" varchar, "avatar_file_size" integer, "avatar_updated_at" datetime, "role" varchar)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20180623213754)[0m
  [1m[35m (1.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20180327225152),
(20180526175301),
(20180527014722);

[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2018-06-24 18:49:42.365589"], ["updated_at", "2018-06-24 18:49:42.365589"]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.8ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.4ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_1@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_1@factory.com"], ["encrypted_password", "$2a$04$eIN8CNLh.pTxUhwqWqyBZOlLs7uZi0ahpL1gneSuFQ/5DGpNl4UXW"], ["created_at", "2018-06-24 18:57:17.424204"], ["updated_at", "2018-06-24 18:57:17.424204"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.8ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (62.6ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (44.1ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_1@factory.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (2.3ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.4ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.7ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_1@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_1@factory.com"], ["encrypted_password", "$2a$04$pfamK2Q15JS3L4btzPJi.eBofPJIFIb3EoC22YLkD3V1656sn5tU6"], ["created_at", "2018-06-24 19:16:01.158196"], ["updated_at", "2018-06-24 19:16:01.158196"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_1@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_1@factory.com"], ["encrypted_password", "$2a$04$kF8XjCmfe8tp5DiG.Lkbw.j9KBXG/Kz./cD/vF3pqc4mQHnMHX0MK"], ["created_at", "2018-06-24 19:17:19.259502"], ["updated_at", "2018-06-24 19:17:19.259502"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (2.0ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (1.6ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_1@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_1@factory.com"], ["encrypted_password", "$2a$04$oXwmeYT7LABkuUNOx8c3tuaDlDvdJKrJfFFZUiUNN/CnmJnLkNz/K"], ["created_at", "2018-06-24 19:25:27.437893"], ["updated_at", "2018-06-24 19:25:27.437893"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_1@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_1@factory.com"], ["encrypted_password", "$2a$04$4bXMNemMB7Cd0Mo4LBnnGuDHqxAxduXxRqoGV5kGGUtHHY.i895Dm"], ["created_at", "2018-06-24 19:26:36.139904"], ["updated_at", "2018-06-24 19:26:36.139904"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_1@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_1@factory.com"], ["encrypted_password", "$2a$04$4EubCoKGXXpyT4ozOmMxi.OBx3aS9lDuM3GW02YxL2qpQZG7kjFja"], ["created_at", "2018-06-24 19:27:04.363913"], ["updated_at", "2018-06-24 19:27:04.363913"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "entreprises"[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "entreprises" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "street" varchar, "town" varchar, "zipcode" varchar, "state" varchar, "country" varchar, "taxconfig" integer, "subdomain" varchar, "owner_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "first_name" varchar, "last_name" varchar, "fullname" varchar, "capacity" integer, "cost" decimal, "employee" boolean, "active" boolean, "image" varchar, "avatar_file_name" varchar, "avatar_content_type" varchar, "avatar_file_size" integer, "avatar_updated_at" datetime, "role" varchar)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20180625105556)[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20180327225152),
(20180527014722),
(20180623213754),
(20180526175301);

[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2018-06-25 19:52:37.294102"], ["updated_at", "2018-06-25 19:52:37.294102"]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "entreprises";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'entreprises';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprise122"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_1@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_1@factory.com"], ["encrypted_password", "$2a$04$VytoynIvF2gTyh5nMDm3nO7xE1XOSnYUPvxAM5AogK0GFie8haBRG"], ["created_at", "2018-06-25 19:52:37.791165"], ["updated_at", "2018-06-25 19:52:37.791165"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (7.1ms)[0m  [1m[31mDELETE FROM "entreprises";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'entreprises';[0m
  [1m[35m (1.9ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprise122"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_1@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_1@factory.com"], ["encrypted_password", "$2a$04$wZnct6xaQWCyEKHypzLihO1KgRORQLe3cFIXQqYp8dp/vZrW1FkBy"], ["created_at", "2018-06-25 19:54:18.109910"], ["updated_at", "2018-06-25 19:54:18.109910"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (2.0ms)[0m  [1m[31mDELETE FROM "entreprises";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'entreprises';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_1@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_1@factory.com"], ["encrypted_password", "$2a$04$DMxILep8enuoxX5uu5AhKu0.eGA695Nf.r.H8IHpoVweXym/.Vmza"], ["created_at", "2018-06-25 20:10:58.521746"], ["updated_at", "2018-06-25 20:10:58.521746"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "entreprises";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'entreprises';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_1@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_1@factory.com"], ["encrypted_password", "$2a$04$/FQ2GvImWcN/YzU75Mh1geWB.4bsx03BzdZOziRyZYVnhd7/sr0/i"], ["created_at", "2018-06-25 20:13:24.412110"], ["updated_at", "2018-06-25 20:13:24.412110"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.5ms)[0m  [1m[31mDELETE FROM "entreprises";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'entreprises';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_1@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_1@factory.com"], ["encrypted_password", "$2a$04$n1hWwgFT4xqkYriQWGjh5u3TnNhWEAh0NAlHrGIb4r8sJg7eyEghi"], ["created_at", "2018-06-25 20:14:25.914803"], ["updated_at", "2018-06-25 20:14:25.914803"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.5ms)[0m  [1m[31mDELETE FROM "entreprises";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.5ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'entreprises';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.5ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprise"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "@3www"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Load (0.1ms)[0m  [1m[34mSELECT  "entreprises".* FROM "entreprises" ORDER BY "entreprises"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "entreprises" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2018-06-25 20:19:24.933405"], ["updated_at", "2018-06-25 20:19:24.933405"]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "entreprises" SET "name" = ?, "updated_at" = ? WHERE "entreprises"."id" = ?[0m  [["name", "an arbitrary value"], ["updated_at", "2018-06-25 20:19:24.937186"], ["id", 1]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "an arbitrary value"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "an arbitrary value"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "www"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", ".test"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "test/"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_1@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_1@factory.com"], ["encrypted_password", "$2a$04$QYe.NzFOVl1CMjT6IeRRmuCUGymy23oZb2.O3Kz/gE68hEE/ONEqG"], ["created_at", "2018-06-25 20:19:25.022153"], ["updated_at", "2018-06-25 20:19:25.022153"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "entreprises";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'entreprises';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprise"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "@3www"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Load (0.2ms)[0m  [1m[34mSELECT  "entreprises".* FROM "entreprises" ORDER BY "entreprises"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "entreprises" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2018-06-25 20:23:25.119804"], ["updated_at", "2018-06-25 20:23:25.119804"]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "entreprises" SET "name" = ?, "updated_at" = ? WHERE "entreprises"."id" = ?[0m  [["name", "an arbitrary value"], ["updated_at", "2018-06-25 20:23:25.122173"], ["id", 1]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "an arbitrary value"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "an arbitrary value"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "www"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", ".test"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "test/"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_1@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_1@factory.com"], ["encrypted_password", "$2a$04$Bq2wxmW.LL2xFAQb.tBAk.F9a8y9Ksk7tFGh63vkmZUPEeW0BVhnK"], ["created_at", "2018-06-25 20:23:25.202012"], ["updated_at", "2018-06-25 20:23:25.202012"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "entreprises";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'entreprises';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprise"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "@3www"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Load (0.1ms)[0m  [1m[34mSELECT  "entreprises".* FROM "entreprises" ORDER BY "entreprises"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "entreprises" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2018-06-25 20:24:55.476909"], ["updated_at", "2018-06-25 20:24:55.476909"]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "entreprises" SET "name" = ?, "updated_at" = ? WHERE "entreprises"."id" = ?[0m  [["name", "an arbitrary value"], ["updated_at", "2018-06-25 20:24:55.479342"], ["id", 1]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "an arbitrary value"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "an arbitrary value"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "www"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", ".test"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "test/"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_1@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_1@factory.com"], ["encrypted_password", "$2a$04$uKBuPZyhr0.TYv.mSiiV7efVGbI/536KrNdN7vOow8q67aVP1Zj4e"], ["created_at", "2018-06-25 20:24:55.564151"], ["updated_at", "2018-06-25 20:24:55.564151"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "entreprises";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'entreprises';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprise"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "@3www"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprise"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "@3www"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Load (0.2ms)[0m  [1m[34mSELECT  "entreprises".* FROM "entreprises" ORDER BY "entreprises"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "entreprises" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2018-06-25 20:25:49.873947"], ["updated_at", "2018-06-25 20:25:49.873947"]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "entreprises" SET "name" = ?, "updated_at" = ? WHERE "entreprises"."id" = ?[0m  [["name", "an arbitrary value"], ["updated_at", "2018-06-25 20:25:49.876664"], ["id", 1]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "an arbitrary value"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "an arbitrary value"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "www"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", ".test"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "test/"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_1@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_1@factory.com"], ["encrypted_password", "$2a$04$/4XGhiv2vOpUwjgxqU1VTeOJNElrGFby187AxRzxZocNz/iarkX4m"], ["created_at", "2018-06-25 20:25:49.955257"], ["updated_at", "2018-06-25 20:25:49.955257"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.6ms)[0m  [1m[31mDELETE FROM "entreprises";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (1.7ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'entreprises';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprise"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "@3www"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprise"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "@3www"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Load (0.3ms)[0m  [1m[34mSELECT  "entreprises".* FROM "entreprises" ORDER BY "entreprises"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "entreprises" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2018-06-25 20:29:33.542478"], ["updated_at", "2018-06-25 20:29:33.542478"]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "entreprises" SET "name" = ?, "updated_at" = ? WHERE "entreprises"."id" = ?[0m  [["name", "an arbitrary value"], ["updated_at", "2018-06-25 20:29:33.547506"], ["id", 1]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "an arbitrary value"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "an arbitrary value"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "www"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", ".test"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "test/"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_1@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_1@factory.com"], ["encrypted_password", "$2a$04$qcQK/uCEAyKe4HldgdPxG.z7ae2jWF3m/amglCA5ukBjEkiuGo9qS"], ["created_at", "2018-06-25 20:29:33.635942"], ["updated_at", "2018-06-25 20:29:33.635942"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "entreprises";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'entreprises';[0m
  [1m[35m (1.6ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.6ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprise"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "@3www"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprise"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "@3www"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Load (0.1ms)[0m  [1m[34mSELECT  "entreprises".* FROM "entreprises" ORDER BY "entreprises"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "entreprises" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2018-06-25 20:32:02.490072"], ["updated_at", "2018-06-25 20:32:02.490072"]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "entreprises" SET "name" = ?, "updated_at" = ? WHERE "entreprises"."id" = ?[0m  [["name", "an arbitrary value"], ["updated_at", "2018-06-25 20:32:02.492493"], ["id", 1]]
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "an arbitrary value"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "an arbitrary value"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "www"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", ".test"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "test/"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_1@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_1@factory.com"], ["encrypted_password", "$2a$04$Uqzp/OuADTGf6h3DRVGjc.g8MW3qIw/9aYNMxII4/0u12FzF5MD8O"], ["created_at", "2018-06-25 20:32:02.588874"], ["updated_at", "2018-06-25 20:32:02.588874"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "entreprises";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (1.6ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'entreprises';[0m
  [1m[35m (1.7ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.5ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_1@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_1@factory.com"], ["encrypted_password", "$2a$04$LhOeSfH1pwq7OXta/rQ24.xFc8/Z45Edj4N4OS/OyFE6t5jS8BK9S"], ["created_at", "2018-06-25 20:35:25.116506"], ["updated_at", "2018-06-25 20:35:25.116506"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprise"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "@3www"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprise"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "@3www"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Load (0.2ms)[0m  [1m[34mSELECT  "entreprises".* FROM "entreprises" ORDER BY "entreprises"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "entreprises" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2018-06-25 20:35:25.335030"], ["updated_at", "2018-06-25 20:35:25.335030"]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "entreprises" SET "name" = ?, "updated_at" = ? WHERE "entreprises"."id" = ?[0m  [["name", "an arbitrary value"], ["updated_at", "2018-06-25 20:35:25.337329"], ["id", 1]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "an arbitrary value"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "an arbitrary value"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "www"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", ".test"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "test/"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_2@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_2@factory.com"], ["encrypted_password", "$2a$04$2r5Q1YxckDzjd7.FOcMBt.SpNfKrFrTsWXdtRI3qnmfidj1hINKk6"], ["created_at", "2018-06-25 20:35:25.387094"], ["updated_at", "2018-06-25 20:35:25.387094"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "entreprises" ("name", "street", "town", "zipcode", "country", "taxconfig", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "mystring"], ["street", "rue 24"], ["town", "Montreal"], ["zipcode", "H2S 2R9"], ["country", "CANADA"], ["taxconfig", 0], ["subdomain", "defacto"], ["owner_id", 2], ["created_at", "2018-06-25 20:35:25.390977"], ["updated_at", "2018-06-25 20:35:25.390977"]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_3@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_3@factory.com"], ["encrypted_password", "$2a$04$AmlNsaD21VCqXZD21mXX8.eEi10EYGlGVCzDxIrU./ZfQmvruvjEW"], ["created_at", "2018-06-25 20:35:25.397205"], ["updated_at", "2018-06-25 20:35:25.397205"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "entreprises";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'entreprises';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_1@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_1@factory.com"], ["encrypted_password", "$2a$04$3OLrA8wjBW3WMbYAbMp0le5xFIAIT6kaMYdqTCZ3dl.pNtz3qGOLK"], ["created_at", "2018-06-25 20:37:11.696964"], ["updated_at", "2018-06-25 20:37:11.696964"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprise"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "@3www"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprise"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "@3www"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Load (0.1ms)[0m  [1m[34mSELECT  "entreprises".* FROM "entreprises" ORDER BY "entreprises"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "entreprises" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2018-06-25 20:37:11.903172"], ["updated_at", "2018-06-25 20:37:11.903172"]]
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "entreprises" SET "name" = ?, "updated_at" = ? WHERE "entreprises"."id" = ?[0m  [["name", "an arbitrary value"], ["updated_at", "2018-06-25 20:37:11.905800"], ["id", 1]]
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "an arbitrary value"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "an arbitrary value"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "www"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", ".test"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "test/"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_2@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_2@factory.com"], ["encrypted_password", "$2a$04$4sG6UbNYS90/c/0Jni5dgevqsUBVgmtjYK0z8ej199IFQ4RsNBiHG"], ["created_at", "2018-06-25 20:37:11.961812"], ["updated_at", "2018-06-25 20:37:11.961812"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprise122"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_3@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_3@factory.com"], ["encrypted_password", "$2a$04$zQlO3ffyXg0UN7.onATSDOi1rv0m6lY7pUiwJo0jxWyLIY1yAQM9a"], ["created_at", "2018-06-25 20:37:11.970685"], ["updated_at", "2018-06-25 20:37:11.970685"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "entreprises" ("name", "street", "town", "zipcode", "country", "taxconfig", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "mystring"], ["street", "rue 24"], ["town", "Montreal"], ["zipcode", "H2S 2R9"], ["country", "CANADA"], ["taxconfig", 0], ["subdomain", "defacto"], ["owner_id", 3], ["created_at", "2018-06-25 20:37:11.974707"], ["updated_at", "2018-06-25 20:37:11.974707"]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_4@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_4@factory.com"], ["encrypted_password", "$2a$04$ce5a7VyGvrllZ9ZCxNlWle4WndAiBZdy3VCntNLREteztFMF7/DuO"], ["created_at", "2018-06-25 20:37:11.981811"], ["updated_at", "2018-06-25 20:37:11.981811"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "entreprises";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'entreprises';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_1@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_1@factory.com"], ["encrypted_password", "$2a$04$ET24PSCtBmQm2srS84deVeZRIzfT/rrVN10pfBpC9IueB/PG8xHa."], ["created_at", "2018-06-25 20:38:19.680611"], ["updated_at", "2018-06-25 20:38:19.680611"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprise"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "@3www"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprise"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "@3www"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Load (0.2ms)[0m  [1m[34mSELECT  "entreprises".* FROM "entreprises" ORDER BY "entreprises"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "entreprises" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2018-06-25 20:38:19.897379"], ["updated_at", "2018-06-25 20:38:19.897379"]]
  [1m[35m (25.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "entreprises" SET "name" = ?, "updated_at" = ? WHERE "entreprises"."id" = ?[0m  [["name", "an arbitrary value"], ["updated_at", "2018-06-25 20:38:19.924099"], ["id", 1]]
  [1m[35m (14.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "an arbitrary value"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "an arbitrary value"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "www"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", ".test"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "test/"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_2@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_2@factory.com"], ["encrypted_password", "$2a$04$SaBjkKuZ.77TYYtx3nZ.N.OJKVlvAIMIB51gaAzaH2i.RArnswSWy"], ["created_at", "2018-06-25 20:38:19.990455"], ["updated_at", "2018-06-25 20:38:19.990455"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprise122"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_3@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_3@factory.com"], ["encrypted_password", "$2a$04$aiOoBeL.2iuuZRrQJF3lQOarJRxfotZB3A.IMmkddZN29LtmQzolu"], ["created_at", "2018-06-25 20:38:19.998408"], ["updated_at", "2018-06-25 20:38:19.998408"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "entreprises" ("name", "street", "town", "zipcode", "country", "taxconfig", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "mystring"], ["street", "rue 24"], ["town", "Montreal"], ["zipcode", "H2S 2R9"], ["country", "CANADA"], ["taxconfig", 0], ["subdomain", "defacto"], ["owner_id", 3], ["created_at", "2018-06-25 20:38:20.002603"], ["updated_at", "2018-06-25 20:38:20.002603"]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_4@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_4@factory.com"], ["encrypted_password", "$2a$04$7S8J4s6klzyLxwGEfBJY3.CcttkTO8.eLj1ysHyyseJzExerqxIDy"], ["created_at", "2018-06-25 20:38:20.009214"], ["updated_at", "2018-06-25 20:38:20.009214"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_5@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_5@factory.com"], ["encrypted_password", "$2a$04$VXDRWffppkkA8ac9b4OxRuFtwPCFMs8SCafixEehBGaGBUYoXJA1i"], ["created_at", "2018-06-25 20:38:20.018600"], ["updated_at", "2018-06-25 20:38:20.018600"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_6@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_6@factory.com"], ["encrypted_password", "$2a$04$saPlvnNZ7DBc2kul0FY6o.CzPslQXj77HOW9EW7xjBPQXBSgmrXy."], ["created_at", "2018-06-25 20:38:20.027935"], ["updated_at", "2018-06-25 20:38:20.027935"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "entreprises";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'entreprises';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_1@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_1@factory.com"], ["encrypted_password", "$2a$04$yAZuHSfH4TfBMcThynJQI.MRAyHLE/MXrQrExWINz7l1gfOgpqwQ2"], ["created_at", "2018-06-25 20:39:12.747362"], ["updated_at", "2018-06-25 20:39:12.747362"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprise"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "@3www"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprise"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "@3www"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Load (0.2ms)[0m  [1m[34mSELECT  "entreprises".* FROM "entreprises" ORDER BY "entreprises"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "entreprises" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2018-06-25 20:39:12.959030"], ["updated_at", "2018-06-25 20:39:12.959030"]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "entreprises" SET "name" = ?, "updated_at" = ? WHERE "entreprises"."id" = ?[0m  [["name", "an arbitrary value"], ["updated_at", "2018-06-25 20:39:12.961308"], ["id", 1]]
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mEntreprise Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "an arbitrary value"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "an arbitrary value"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "www"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", ".test"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "test/"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_2@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_2@factory.com"], ["encrypted_password", "$2a$04$YPHMm6zYM2T6zjIkAnfuxul/ynPbA6SpuTg23QO2sAtDy6uZZ9VtW"], ["created_at", "2018-06-25 20:39:13.016374"], ["updated_at", "2018-06-25 20:39:13.016374"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprise122"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_3@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_3@factory.com"], ["encrypted_password", "$2a$04$LpkPbgxQIymfJ8AFvOTT.eTuz0vvryasOie8eo1owxgGnJsfzUHFm"], ["created_at", "2018-06-25 20:39:13.024884"], ["updated_at", "2018-06-25 20:39:13.024884"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "entreprises" ("name", "street", "town", "zipcode", "country", "taxconfig", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "mystring"], ["street", "rue 24"], ["town", "Montreal"], ["zipcode", "H2S 2R9"], ["country", "CANADA"], ["taxconfig", 0], ["subdomain", "defacto"], ["owner_id", 3], ["created_at", "2018-06-25 20:39:13.029569"], ["updated_at", "2018-06-25 20:39:13.029569"]]
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_4@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_4@factory.com"], ["encrypted_password", "$2a$04$wey1hO6qToHhW7if/tNpz.BEGipq4YQhoL57fVZ/FH5ZkN0BwKOz2"], ["created_at", "2018-06-25 20:39:13.035117"], ["updated_at", "2018-06-25 20:39:13.035117"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_5@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_5@factory.com"], ["encrypted_password", "$2a$04$qqbmqrMIANyt0k/youAlk.c87JtPYznbWl3DruO0b8X7X07iOq4Oy"], ["created_at", "2018-06-25 20:39:13.043627"], ["updated_at", "2018-06-25 20:39:13.043627"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defactor"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_6@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_6@factory.com"], ["encrypted_password", "$2a$04$P7qi14qTQUNESR8IzAtcBeoN6ud6nMvE7oqUpkh3R66S93eghnRGq"], ["created_at", "2018-06-25 20:39:13.052812"], ["updated_at", "2018-06-25 20:39:13.052812"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "entreprises";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'entreprises';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_1@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_1@factory.com"], ["encrypted_password", "$2a$04$VcPvxOD7o9H0mVw3qUMrHe/jZxoek/UMZvXrR9rpPG7RYqLSvJ.zC"], ["created_at", "2018-06-25 20:40:43.943816"], ["updated_at", "2018-06-25 20:40:43.943816"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprises"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "tester@12"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprises"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "tester@12"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Load (0.1ms)[0m  [1m[34mSELECT  "entreprises".* FROM "entreprises" ORDER BY "entreprises"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "entreprises" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2018-06-25 20:40:44.151452"], ["updated_at", "2018-06-25 20:40:44.151452"]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "entreprises" SET "name" = ?, "updated_at" = ? WHERE "entreprises"."id" = ?[0m  [["name", "an arbitrary value"], ["updated_at", "2018-06-25 20:40:44.153593"], ["id", 1]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "an arbitrary value"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "an arbitrary value"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "www"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", ".test"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "test/"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_2@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_2@factory.com"], ["encrypted_password", "$2a$04$rmNGAwpvewX/KsxL42Yz0ez51HVOaGVFOL6/Bbsss7D0XRr3AXkny"], ["created_at", "2018-06-25 20:40:44.207943"], ["updated_at", "2018-06-25 20:40:44.207943"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprise122"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_3@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_3@factory.com"], ["encrypted_password", "$2a$04$8Uj2K.9v6SuQ0OFNzvEHeeMK9hrUdiBEVfuZmKmLsktiBaxNZhqvG"], ["created_at", "2018-06-25 20:40:44.216446"], ["updated_at", "2018-06-25 20:40:44.216446"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "entreprises" ("name", "street", "town", "zipcode", "country", "taxconfig", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "mystring"], ["street", "rue 24"], ["town", "Montreal"], ["zipcode", "H2S 2R9"], ["country", "CANADA"], ["taxconfig", 0], ["subdomain", "defacto"], ["owner_id", 3], ["created_at", "2018-06-25 20:40:44.220275"], ["updated_at", "2018-06-25 20:40:44.220275"]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_4@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_4@factory.com"], ["encrypted_password", "$2a$04$mP6hV3AUC0nFZE98JvJW3e6RSQYS0YoJ4u8eGpomW8Ul6fCYUSLFW"], ["created_at", "2018-06-25 20:40:44.225634"], ["updated_at", "2018-06-25 20:40:44.225634"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_5@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_5@factory.com"], ["encrypted_password", "$2a$04$Gg4ljGP10G8X..V2OjHuouLqboMvPPVWq.TYHGGzBiUZ9gP1aEivG"], ["created_at", "2018-06-25 20:40:44.234120"], ["updated_at", "2018-06-25 20:40:44.234120"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defactor"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_6@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_6@factory.com"], ["encrypted_password", "$2a$04$D1GWeW8xbjOjgIahaoRaLOKNh7mXVJuhbOeDODGbYgC.nCv0bwadS"], ["created_at", "2018-06-25 20:40:44.242671"], ["updated_at", "2018-06-25 20:40:44.242671"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "entreprises";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'entreprises';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_1@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_1@factory.com"], ["encrypted_password", "$2a$04$pVJFe8.P50Wa0s6rV/dKg.GMDa863tA8J1yu07ScglhU4mf311v9m"], ["created_at", "2018-06-25 22:47:32.801515"], ["updated_at", "2018-06-25 22:47:32.801515"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprises"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "tester@12"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprises"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "tester@12"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Load (0.2ms)[0m  [1m[34mSELECT  "entreprises".* FROM "entreprises" ORDER BY "entreprises"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "entreprises" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2018-06-25 22:47:33.035648"], ["updated_at", "2018-06-25 22:47:33.035648"]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "entreprises" SET "name" = ?, "updated_at" = ? WHERE "entreprises"."id" = ?[0m  [["name", "an arbitrary value"], ["updated_at", "2018-06-25 22:47:33.038002"], ["id", 1]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "an arbitrary value"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "an arbitrary value"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "www"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", ".test"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "test/"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_2@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_2@factory.com"], ["encrypted_password", "$2a$04$cfF/X7zQBDW77vHpPFlhR.uraAh/eXR7aaU9Hx8bcYIy6EE1kF.cC"], ["created_at", "2018-06-25 22:47:33.098484"], ["updated_at", "2018-06-25 22:47:33.098484"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprise122"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_3@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_3@factory.com"], ["encrypted_password", "$2a$04$kUcqnVkDNpjSglTt3rwtfuTiYWPBJ0apXYPAvqsWojKmHvxSeDcbu"], ["created_at", "2018-06-25 22:47:33.107250"], ["updated_at", "2018-06-25 22:47:33.107250"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (4.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "entreprises" ("name", "street", "town", "zipcode", "country", "taxconfig", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "mystring"], ["street", "rue 24"], ["town", "Montreal"], ["zipcode", "H2S 2R9"], ["country", "CANADA"], ["taxconfig", 0], ["subdomain", "defacto"], ["owner_id", 3], ["created_at", "2018-06-25 22:47:33.114731"], ["updated_at", "2018-06-25 22:47:33.114731"]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_4@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_4@factory.com"], ["encrypted_password", "$2a$04$C9gwQB/3gkjBjdj6enlcB.wGNRhwycJ2yTB2qkdHCSi8QA82BJZ1G"], ["created_at", "2018-06-25 22:47:33.120063"], ["updated_at", "2018-06-25 22:47:33.120063"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mEntreprise Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_5@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_5@factory.com"], ["encrypted_password", "$2a$04$unpN3IxGwjsmCURBUynMgeIMr6HgxqMaXMEBI1/SVJMFKKbL3oYl6"], ["created_at", "2018-06-25 22:47:33.129012"], ["updated_at", "2018-06-25 22:47:33.129012"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defactor"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_6@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_6@factory.com"], ["encrypted_password", "$2a$04$3eaeNVedq0ihbo4bBESF5.yS7KIxkoUx6cDEGRpmDNnoy2DOKtNKq"], ["created_at", "2018-06-25 22:47:33.138069"], ["updated_at", "2018-06-25 22:47:33.138069"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "entreprises";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'entreprises';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_1@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_1@factory.com"], ["encrypted_password", "$2a$04$9Of3LvBZsGUNJD2vAbM45O22bkTsrKEo1sfVX18t6Bi9hSsw0QVgO"], ["created_at", "2018-06-25 22:47:55.221450"], ["updated_at", "2018-06-25 22:47:55.221450"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprises"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "tester@12"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprises"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "tester@12"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Load (0.2ms)[0m  [1m[34mSELECT  "entreprises".* FROM "entreprises" ORDER BY "entreprises"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "entreprises" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2018-06-25 22:47:55.446020"], ["updated_at", "2018-06-25 22:47:55.446020"]]
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "entreprises" SET "name" = ?, "updated_at" = ? WHERE "entreprises"."id" = ?[0m  [["name", "an arbitrary value"], ["updated_at", "2018-06-25 22:47:55.448532"], ["id", 1]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "an arbitrary value"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "an arbitrary value"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "www"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", ".test"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "test/"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_2@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_2@factory.com"], ["encrypted_password", "$2a$04$yJvE5czRmw1xlyjUj25V1OTyp./TVP6fH9LmT6fosuAv.79FG2EC."], ["created_at", "2018-06-25 22:47:55.507366"], ["updated_at", "2018-06-25 22:47:55.507366"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprise122"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_3@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_3@factory.com"], ["encrypted_password", "$2a$04$xRHIZwXv9YASVu9qwjqaueurHAdBxFJlOkCQbbZVT3kp8sOJ3MwRq"], ["created_at", "2018-06-25 22:47:55.516411"], ["updated_at", "2018-06-25 22:47:55.516411"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "entreprises" ("name", "street", "town", "zipcode", "country", "taxconfig", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "mystring"], ["street", "rue 24"], ["town", "Montreal"], ["zipcode", "H2S 2R9"], ["country", "CANADA"], ["taxconfig", 0], ["subdomain", "defacto"], ["owner_id", 3], ["created_at", "2018-06-25 22:47:55.520859"], ["updated_at", "2018-06-25 22:47:55.520859"]]
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_4@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_4@factory.com"], ["encrypted_password", "$2a$04$gFgpaxrgRHbMtLk6k2U1kOpATNhfguJBqSb287LOoayLPpgTjc2DO"], ["created_at", "2018-06-25 22:47:55.526264"], ["updated_at", "2018-06-25 22:47:55.526264"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_5@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_5@factory.com"], ["encrypted_password", "$2a$04$DJmJNo.fHIj6u69obT9I6.oN1MWxSX9zMNgn4SmbbyJ7cz8oN73Aa"], ["created_at", "2018-06-25 22:47:55.535210"], ["updated_at", "2018-06-25 22:47:55.535210"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defactor"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_6@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_6@factory.com"], ["encrypted_password", "$2a$04$lqnce0Z7/wMqlc.goNISHux2T4N6MgOtqvhhvub6PeUY4IpW4zUzS"], ["created_at", "2018-06-25 22:47:55.544119"], ["updated_at", "2018-06-25 22:47:55.544119"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "entreprises";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'entreprises';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_1@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_1@factory.com"], ["encrypted_password", "$2a$04$0hS/wS6NLGu2BU4W5zRENOq1UC.3gJrKJYNmty8C1JxiG2wc8UDp2"], ["created_at", "2018-06-25 22:49:06.166455"], ["updated_at", "2018-06-25 22:49:06.166455"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprises"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "tester@12"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprises"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "tester@12"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Load (0.2ms)[0m  [1m[34mSELECT  "entreprises".* FROM "entreprises" ORDER BY "entreprises"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "entreprises" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2018-06-25 22:49:06.395102"], ["updated_at", "2018-06-25 22:49:06.395102"]]
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "entreprises" SET "name" = ?, "updated_at" = ? WHERE "entreprises"."id" = ?[0m  [["name", "an arbitrary value"], ["updated_at", "2018-06-25 22:49:06.397655"], ["id", 1]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "an arbitrary value"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "an arbitrary value"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "www"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", ".test"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "test/"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_2@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_2@factory.com"], ["encrypted_password", "$2a$04$1W4mt/xUb.2vVq4B.aoCCet9nZ1HZiWTGR.Sj7fjH9yQkg4b8plVi"], ["created_at", "2018-06-25 22:49:06.457686"], ["updated_at", "2018-06-25 22:49:06.457686"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprise122"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_3@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_3@factory.com"], ["encrypted_password", "$2a$04$KIUhzvBJ.xOvFhHXx0x4J.FPBSwzxTD/PJh5n18o8nd01GU93g2zq"], ["created_at", "2018-06-25 22:49:06.466933"], ["updated_at", "2018-06-25 22:49:06.466933"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "entreprises" ("name", "street", "town", "zipcode", "country", "taxconfig", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "mystring"], ["street", "rue 24"], ["town", "Montreal"], ["zipcode", "H2S 2R9"], ["country", "CANADA"], ["taxconfig", 0], ["subdomain", "defacto"], ["owner_id", 3], ["created_at", "2018-06-25 22:49:06.472171"], ["updated_at", "2018-06-25 22:49:06.472171"]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_4@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_4@factory.com"], ["encrypted_password", "$2a$04$6PwnBrhCcyCoXifimaMbxeE9HWT7alNpe0t9dOoo2usyxVjKVGMga"], ["created_at", "2018-06-25 22:49:06.478056"], ["updated_at", "2018-06-25 22:49:06.478056"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_5@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_5@factory.com"], ["encrypted_password", "$2a$04$CNpGrNSE/sQTkxiTOTNYJui/BY1ZAiIocSgwazR.iewQFPaj4PV4u"], ["created_at", "2018-06-25 22:49:06.489366"], ["updated_at", "2018-06-25 22:49:06.489366"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defactor"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_6@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_6@factory.com"], ["encrypted_password", "$2a$04$qvmC3IHSGdBUzGsdRzCyzevozmfcn7xEWDNPXZGdvWPTbLk0XPGoy"], ["created_at", "2018-06-25 22:49:06.499362"], ["updated_at", "2018-06-25 22:49:06.499362"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "entreprises";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'entreprises';[0m
  [1m[35m (1.7ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_1@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_1@factory.com"], ["encrypted_password", "$2a$04$0uifU8G/cAtyOlsGtRBdP.yyLFNo9YZsqX/gtitIuQU7MYV75JZ8W"], ["created_at", "2018-06-25 23:04:42.239328"], ["updated_at", "2018-06-25 23:04:42.239328"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprises"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "tester@12"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprises"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "tester@12"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Load (0.3ms)[0m  [1m[34mSELECT  "entreprises".* FROM "entreprises" ORDER BY "entreprises"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "entreprises" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2018-06-25 23:04:42.455942"], ["updated_at", "2018-06-25 23:04:42.455942"]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "entreprises" SET "name" = ?, "updated_at" = ? WHERE "entreprises"."id" = ?[0m  [["name", "an arbitrary value"], ["updated_at", "2018-06-25 23:04:42.458011"], ["id", 1]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "an arbitrary value"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "an arbitrary value"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "www"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", ".test"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "test/"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_2@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_2@factory.com"], ["encrypted_password", "$2a$04$pWYp1TFZE8TX5fnr5BEbXuI42klnyQYfjT.IwW4Uh8eBkWseKnrCa"], ["created_at", "2018-06-25 23:04:42.514913"], ["updated_at", "2018-06-25 23:04:42.514913"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprise122"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_3@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_3@factory.com"], ["encrypted_password", "$2a$04$eYlqAcNsDNBOUP2t9XCoweGYic0.yeBpM1B6yYOujVUks9Cs8nSfW"], ["created_at", "2018-06-25 23:04:42.525311"], ["updated_at", "2018-06-25 23:04:42.525311"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "entreprises" ("name", "street", "town", "zipcode", "country", "taxconfig", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "mystring"], ["street", "rue 24"], ["town", "Montreal"], ["zipcode", "H2S 2R9"], ["country", "CANADA"], ["taxconfig", 0], ["subdomain", "defacto"], ["owner_id", 3], ["created_at", "2018-06-25 23:04:42.528977"], ["updated_at", "2018-06-25 23:04:42.528977"]]
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_4@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_4@factory.com"], ["encrypted_password", "$2a$04$ZhpKYEmBnNpl49t.VjYIPOLh3ixml5BpFmz.jJZeUfCtSfQYz1h5u"], ["created_at", "2018-06-25 23:04:42.536973"], ["updated_at", "2018-06-25 23:04:42.536973"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mEntreprise Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_5@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_5@factory.com"], ["encrypted_password", "$2a$04$MMPFzbSCWhAOm1NmXVm/MeIt27pdCZZVG375aU5uSzwSr2KpaVo5a"], ["created_at", "2018-06-25 23:04:42.546792"], ["updated_at", "2018-06-25 23:04:42.546792"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defactor"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_6@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_6@factory.com"], ["encrypted_password", "$2a$04$E92kaQHbI7EJ4ziiWx8jdeFMLYzOMYNu52hEIi/BOXwcRTsaeYtDK"], ["created_at", "2018-06-25 23:04:42.556744"], ["updated_at", "2018-06-25 23:04:42.556744"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "entreprises";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'entreprises';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_1@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_1@factory.com"], ["encrypted_password", "$2a$04$Ar46/ouLhCDdCazW/DJyeuJ/ILcn.s.fPdAOJdFxZyNnveQaIK2EG"], ["created_at", "2018-06-25 23:05:41.696163"], ["updated_at", "2018-06-25 23:05:41.696163"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprises"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "tester@12"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprises"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "tester@12"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Load (0.2ms)[0m  [1m[34mSELECT  "entreprises".* FROM "entreprises" ORDER BY "entreprises"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "entreprises" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2018-06-25 23:05:41.883762"], ["updated_at", "2018-06-25 23:05:41.883762"]]
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "entreprises" SET "name" = ?, "updated_at" = ? WHERE "entreprises"."id" = ?[0m  [["name", "an arbitrary value"], ["updated_at", "2018-06-25 23:05:41.889088"], ["id", 1]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mEntreprise Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "an arbitrary value"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "an arbitrary value"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "www"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", ".test"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "test/"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_2@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_2@factory.com"], ["encrypted_password", "$2a$04$sRke1k14kw2t8lmGL89b8u9mDdOrvLx8Z3dMmE8v5CFDvwKPPcBIS"], ["created_at", "2018-06-25 23:05:41.953257"], ["updated_at", "2018-06-25 23:05:41.953257"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprise122"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_3@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_3@factory.com"], ["encrypted_password", "$2a$04$qtLYs.XpmazZQj084NCzFe6Sd1rsfz9fIekvPKHjO/TCzNNCKUTCi"], ["created_at", "2018-06-25 23:05:41.966802"], ["updated_at", "2018-06-25 23:05:41.966802"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "entreprises" ("name", "street", "town", "zipcode", "country", "taxconfig", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "mystring"], ["street", "rue 24"], ["town", "Montreal"], ["zipcode", "H2S 2R9"], ["country", "CANADA"], ["taxconfig", 0], ["subdomain", "defacto"], ["owner_id", 3], ["created_at", "2018-06-25 23:05:41.973937"], ["updated_at", "2018-06-25 23:05:41.973937"]]
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_4@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_4@factory.com"], ["encrypted_password", "$2a$04$46DkgfiWcacyWUlwuMr7g.mX3Y89tHo5sz9xpQRM971Z/KgpCwBC6"], ["created_at", "2018-06-25 23:05:41.980875"], ["updated_at", "2018-06-25 23:05:41.980875"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mEntreprise Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_5@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_5@factory.com"], ["encrypted_password", "$2a$04$FYpx.foH6U32TfNkN6RDiOljC6vupLDex3V5x7HFjzC5QVCwLOEcy"], ["created_at", "2018-06-25 23:05:41.995066"], ["updated_at", "2018-06-25 23:05:41.995066"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defactor"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_6@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_6@factory.com"], ["encrypted_password", "$2a$04$fg0gLNU.B6//rOha.qIK7OzM1HVOoylv.r6GQdKWVHF2z4hQxMO4y"], ["created_at", "2018-06-25 23:05:42.005502"], ["updated_at", "2018-06-25 23:05:42.005502"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (6.7ms)[0m  [1m[31mDELETE FROM "entreprises";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (1.7ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'entreprises';[0m
  [1m[35m (1.8ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_1@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_1@factory.com"], ["encrypted_password", "$2a$04$V7HSWb5IaxbyZHEdXkqDMOx35grERzaNn2Z8Tm05SQ8zJvUoIQuMK"], ["created_at", "2018-06-25 23:06:57.749554"], ["updated_at", "2018-06-25 23:06:57.749554"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (3.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "test"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "entreprises" ("name", "street", "town", "zipcode", "country", "taxconfig", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "mystring"], ["street", "rue 24"], ["town", "Montreal"], ["zipcode", "H2S 2R9"], ["country", "CANADA"], ["taxconfig", 0], ["subdomain", "test"], ["owner_id", 1], ["created_at", "2018-06-25 23:06:57.768960"], ["updated_at", "2018-06-25 23:06:57.768960"]]
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) AND ("entreprises"."id" != ?) LIMIT ?[0m  [["name", "mystring"], ["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) AND ("entreprises"."id" != ?) LIMIT ?[0m  [["subdomain", "test"], ["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprises"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "tester@12"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprises"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "tester@12"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Load (0.1ms)[0m  [1m[34mSELECT  "entreprises".* FROM "entreprises" ORDER BY "entreprises"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "test"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "test"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "www"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", ".test"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "test/"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_2@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_2@factory.com"], ["encrypted_password", "$2a$04$SbKef0lgdE2cBR2S5S8UNuWIYN0dVX0BIpAVx0869SnC7EzF/KKwW"], ["created_at", "2018-06-25 23:06:57.962427"], ["updated_at", "2018-06-25 23:06:57.962427"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (6.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprise122"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "test"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_3@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_3@factory.com"], ["encrypted_password", "$2a$04$syrdFEksg//ugvVOCu2oYOacVHCdlWvkLxpjeBxeIFT4zgciaud2W"], ["created_at", "2018-06-25 23:06:57.981307"], ["updated_at", "2018-06-25 23:06:57.981307"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_4@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_4@factory.com"], ["encrypted_password", "$2a$04$nxEj/p/Gczu1NidVkrpVv.gcP.vONM9yf0hFg8BmoZ5kmfUOQM9bu"], ["created_at", "2018-06-25 23:06:57.991662"], ["updated_at", "2018-06-25 23:06:57.991662"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defactor"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_5@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_5@factory.com"], ["encrypted_password", "$2a$04$UWx4Kd0EJ9kza.tpGNa8tu/WI1oUWu/oMf0OXdq4cToMr0Vfdj1X."], ["created_at", "2018-06-25 23:06:58.009606"], ["updated_at", "2018-06-25 23:06:58.009606"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (6.8ms)[0m  [1m[31mDELETE FROM "entreprises";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (1.7ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'entreprises';[0m
  [1m[35m (1.9ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (1.6ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_1@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_1@factory.com"], ["encrypted_password", "$2a$04$dQzxXDf8jziHa6OON.Zg/.hlEku6idXgusH0Y2EiIjtsBU5SLelcC"], ["created_at", "2018-06-25 23:22:42.256146"], ["updated_at", "2018-06-25 23:22:42.256146"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "test"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "entreprises" ("name", "street", "town", "zipcode", "country", "taxconfig", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "mystring"], ["street", "rue 24"], ["town", "Montreal"], ["zipcode", "H2S 2R9"], ["country", "CANADA"], ["taxconfig", 0], ["subdomain", "test"], ["owner_id", 1], ["created_at", "2018-06-25 23:22:42.273175"], ["updated_at", "2018-06-25 23:22:42.273175"]]
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) AND ("entreprises"."id" != ?) LIMIT ?[0m  [["name", "mystring"], ["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) AND ("entreprises"."id" != ?) LIMIT ?[0m  [["subdomain", "test"], ["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprises"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "tester@12"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprises"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "tester@12"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Load (0.1ms)[0m  [1m[34mSELECT  "entreprises".* FROM "entreprises" ORDER BY "entreprises"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "test"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "test"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "www"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", ".test"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "test/"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_2@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_2@factory.com"], ["encrypted_password", "$2a$04$SNprCuKky0ERoEQ2AhVH0uFOHWOqdYY1t2mP1bDgV8eg4rXBl4L3m"], ["created_at", "2018-06-25 23:22:42.482898"], ["updated_at", "2018-06-25 23:22:42.482898"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (6.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprise122"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "test"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_3@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_3@factory.com"], ["encrypted_password", "$2a$04$XbIN/tk5iOMux0s4TBrkTudc.CpKoI1mskT.V73RWslBNN/ZN4A.G"], ["created_at", "2018-06-25 23:22:42.502282"], ["updated_at", "2018-06-25 23:22:42.502282"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_4@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_4@factory.com"], ["encrypted_password", "$2a$04$z5ZKd3RfPkoERJHqs2YJPebjEbHO/ryhHUHfpNDfTR4DZeN/nCT1W"], ["created_at", "2018-06-25 23:22:42.512864"], ["updated_at", "2018-06-25 23:22:42.512864"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defactor"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_5@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_5@factory.com"], ["encrypted_password", "$2a$04$nymZWVAlv2N3daHODamkOOm0TPyrO3qETSyqvCympc3q8rQmdQ0Xa"], ["created_at", "2018-06-25 23:22:42.530833"], ["updated_at", "2018-06-25 23:22:42.530833"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "entreprises"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "entreprises" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "street" varchar, "town" varchar, "zipcode" varchar, "state" varchar, "country" varchar, "taxconfig" integer, "subdomain" varchar, "owner_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "first_name" varchar, "last_name" varchar, "fullname" varchar, "capacity" integer, "cost" decimal, "employee" boolean, "active" boolean, "image" varchar, "avatar_file_name" varchar, "avatar_content_type" varchar, "avatar_file_size" integer, "avatar_updated_at" datetime, "role" varchar)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.2ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20180625105556)[0m
  [1m[35m (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20180327225152),
(20180527014722),
(20180623213754),
(20180526175301);

[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2018-06-25 23:35:38.608434"], ["updated_at", "2018-06-25 23:35:38.608434"]]
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (3.1ms)[0m  [1m[31mDELETE FROM "entreprises";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'entreprises';[0m
  [1m[35m (1.5ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.6ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_1@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_1@factory.com"], ["encrypted_password", "$2a$04$SK7vQe9CTAq73dKCny7FUO6AWtfiBlUi7bVzRZ6YVlUO4nkEW3qfS"], ["created_at", "2018-06-25 23:35:38.856531"], ["updated_at", "2018-06-25 23:35:38.856531"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (3.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", ""], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprises"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "tester@12"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprises"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "tester@12"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Load (0.3ms)[0m  [1m[34mSELECT  "entreprises".* FROM "entreprises" ORDER BY "entreprises"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "entreprises" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2018-06-25 23:35:39.023598"], ["updated_at", "2018-06-25 23:35:39.023598"]]
  [1m[35m (6.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "entreprises" SET "name" = ?, "updated_at" = ? WHERE "entreprises"."id" = ?[0m  [["name", "an arbitrary value"], ["updated_at", "2018-06-25 23:35:39.032009"], ["id", 1]]
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "an arbitrary value"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "an arbitrary value"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "www"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", ".test"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "test/"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_2@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_2@factory.com"], ["encrypted_password", "$2a$04$lcRBICFrHfBUbkwHRFNAo.24OJPiyFvPwTVgAJhtOLxDaKwQQLeL2"], ["created_at", "2018-06-25 23:35:39.098376"], ["updated_at", "2018-06-25 23:35:39.098376"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (3.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprise122"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", ""], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_3@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_3@factory.com"], ["encrypted_password", "$2a$04$N0Hl6PUREC6x3wOo.w7ADuyhbu/rPfsIQIOToqLNOBpACvu232OuK"], ["created_at", "2018-06-25 23:35:39.112918"], ["updated_at", "2018-06-25 23:35:39.112918"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "entreprises" ("name", "street", "town", "zipcode", "country", "taxconfig", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "mystring"], ["street", "rue 24"], ["town", "Montreal"], ["zipcode", "H2S 2R9"], ["country", "CANADA"], ["taxconfig", 0], ["subdomain", "defacto"], ["owner_id", 3], ["created_at", "2018-06-25 23:35:39.117648"], ["updated_at", "2018-06-25 23:35:39.117648"]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_4@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_4@factory.com"], ["encrypted_password", "$2a$04$Nm5U6fsEDOqFOnjk8U38NuyczESO36uHcBN2VORGTI63xVWPsZKoi"], ["created_at", "2018-06-25 23:35:39.126222"], ["updated_at", "2018-06-25 23:35:39.126222"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_5@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_5@factory.com"], ["encrypted_password", "$2a$04$/boPDjtchLHS7bRO9KFaSOPK5qNYDUCCqEJgQ/vgsEBanTx4jOg3y"], ["created_at", "2018-06-25 23:35:39.139552"], ["updated_at", "2018-06-25 23:35:39.139552"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defactor"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_6@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_6@factory.com"], ["encrypted_password", "$2a$04$9GVAeu7zUNZ7qr/fzaZNaejVje5wzBmQ9/DEEUN.dK8LJhGAkm2R."], ["created_at", "2018-06-25 23:35:39.151205"], ["updated_at", "2018-06-25 23:35:39.151205"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (5168.1ms)[0m  [1m[31mDELETE FROM "entreprises";[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (7.2ms)[0m  [1m[31mDELETE FROM "entreprises";[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (2.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'entreprises';[0m
  [1m[35m (2.2ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (2.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.6ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_1@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_1@factory.com"], ["encrypted_password", "$2a$04$3UPTm06zAD.p5bmCT4JUDu7Xcg0I8.aRuFBQsj0kEnEmuMBjcR6a6"], ["created_at", "2018-06-25 23:41:06.974890"], ["updated_at", "2018-06-25 23:41:06.974890"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (3.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", ""], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprises"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "tester@12"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprises"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "tester@12"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Load (0.4ms)[0m  [1m[34mSELECT  "entreprises".* FROM "entreprises" ORDER BY "entreprises"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "entreprises" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2018-06-25 23:41:07.208662"], ["updated_at", "2018-06-25 23:41:07.208662"]]
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "entreprises" SET "name" = ?, "updated_at" = ? WHERE "entreprises"."id" = ?[0m  [["name", "an arbitrary value"], ["updated_at", "2018-06-25 23:41:07.212260"], ["id", 1]]
  [1m[35m (1.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mEntreprise Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "an arbitrary value"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "an arbitrary value"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "www"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", ".test"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "test/"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_2@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_2@factory.com"], ["encrypted_password", "$2a$04$juieJaXGz.C2wy0fJFdp/u4zXc..Eg8iYrryYv8wbANjyzg/00Tgy"], ["created_at", "2018-06-25 23:41:07.283896"], ["updated_at", "2018-06-25 23:41:07.283896"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (2.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprise122"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", ""], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_3@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_3@factory.com"], ["encrypted_password", "$2a$04$Wsa0K4sYAPdNZPBOzm8SgeGvfu.aDlI4eJgimg0zIUF/s9T7ZSEla"], ["created_at", "2018-06-25 23:41:07.299195"], ["updated_at", "2018-06-25 23:41:07.299195"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "entreprises" ("name", "street", "town", "zipcode", "country", "taxconfig", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "mystring"], ["street", "rue 24"], ["town", "Montreal"], ["zipcode", "H2S 2R9"], ["country", "CANADA"], ["taxconfig", 0], ["subdomain", "defacto"], ["owner_id", 3], ["created_at", "2018-06-25 23:41:07.307305"], ["updated_at", "2018-06-25 23:41:07.307305"]]
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_4@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_4@factory.com"], ["encrypted_password", "$2a$04$8pbDyOL9hUQuivW3Q9ZiQ.811J991n7CIsUC.cBfna/r0Ez6ZCwtm"], ["created_at", "2018-06-25 23:41:07.313748"], ["updated_at", "2018-06-25 23:41:07.313748"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mEntreprise Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_5@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_5@factory.com"], ["encrypted_password", "$2a$04$AzbkF0aSaewTnS6fto0E7OetyCxql7yw11ju4DdQYS/0j5GkXZ8Li"], ["created_at", "2018-06-25 23:41:07.329225"], ["updated_at", "2018-06-25 23:41:07.329225"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defactor"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_6@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_6@factory.com"], ["encrypted_password", "$2a$04$jdSjiYN1EHk6SgEw9YM5ruOPC0bhWt2KrabMrj/jQASDYf4FbdKdK"], ["created_at", "2018-06-25 23:41:07.340107"], ["updated_at", "2018-06-25 23:41:07.340107"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (7.2ms)[0m  [1m[31mDELETE FROM "entreprises";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (2.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'entreprises';[0m
  [1m[35m (1.8ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_1@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_1@factory.com"], ["encrypted_password", "$2a$04$bQBFC6d/Xr72j.ai/LxQkuHt0z7VpVCMgcNiiKZyHSRuWmB2Tl0Fy"], ["created_at", "2018-06-25 23:44:25.353583"], ["updated_at", "2018-06-25 23:44:25.353583"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprises"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "tester@12"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprises"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "tester@12"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Load (0.2ms)[0m  [1m[34mSELECT  "entreprises".* FROM "entreprises" ORDER BY "entreprises"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "entreprises" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2018-06-25 23:44:25.529357"], ["updated_at", "2018-06-25 23:44:25.529357"]]
  [1m[35m (6.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "entreprises" SET "name" = ?, "updated_at" = ? WHERE "entreprises"."id" = ?[0m  [["name", "an arbitrary value"], ["updated_at", "2018-06-25 23:44:25.538387"], ["id", 1]]
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "an arbitrary value"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "an arbitrary value"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "www"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", ".test"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "test/"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_2@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_2@factory.com"], ["encrypted_password", "$2a$04$WMYusrAaxR90M3CHAXmtN.spsxvikHVkKcvGLCmn5FDJ4vGVR05v."], ["created_at", "2018-06-25 23:44:25.597238"], ["updated_at", "2018-06-25 23:44:25.597238"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (2.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprise122"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_3@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_3@factory.com"], ["encrypted_password", "$2a$04$xyk4qARjA1uqxYesOoUf8eUlYEWXsg1oBn10YWceLSvqA/p5JAbN2"], ["created_at", "2018-06-25 23:44:25.609953"], ["updated_at", "2018-06-25 23:44:25.609953"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "entreprises" ("name", "street", "town", "zipcode", "country", "taxconfig", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "mystring"], ["street", "rue 24"], ["town", "Montreal"], ["zipcode", "H2S 2R9"], ["country", "CANADA"], ["taxconfig", 0], ["subdomain", "defacto"], ["owner_id", 3], ["created_at", "2018-06-25 23:44:25.614842"], ["updated_at", "2018-06-25 23:44:25.614842"]]
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_4@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_4@factory.com"], ["encrypted_password", "$2a$04$ADVrpKiaxN3Abpqx68i4lewk3LJfm/MkRpJvlKMGnrB.QqilVoca2"], ["created_at", "2018-06-25 23:44:25.624239"], ["updated_at", "2018-06-25 23:44:25.624239"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_5@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_5@factory.com"], ["encrypted_password", "$2a$04$yMtZ88lMbPJK7H2oFkTRteuiqXhCovs0vHH4JdPrFqUqGM5YBNQlG"], ["created_at", "2018-06-25 23:44:25.636881"], ["updated_at", "2018-06-25 23:44:25.636881"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defactor"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_6@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_6@factory.com"], ["encrypted_password", "$2a$04$j/Ou35YAqta1Fjrc3a/4Qe6pUaSOdbiSwpi4FO5kr.XmkxoIaOpOi"], ["created_at", "2018-06-25 23:44:25.647181"], ["updated_at", "2018-06-25 23:44:25.647181"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (6.5ms)[0m  [1m[31mDELETE FROM "entreprises";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'entreprises';[0m
  [1m[35m (1.7ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (1.5ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (7.0ms)[0m  [1m[31mDELETE FROM "entreprises";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'entreprises';[0m
  [1m[35m (1.7ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.7ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (7.3ms)[0m  [1m[31mDELETE FROM "entreprises";[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'entreprises';[0m
  [1m[35m (1.8ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.5ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_1@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_1@factory.com"], ["encrypted_password", "$2a$04$WkxZAmdvkuZcE6a6CgyXVuLEGYrbnKeNIOOdtXBrKFh6y3s.Tla9."], ["created_at", "2018-06-26 00:46:48.267964"], ["updated_at", "2018-06-26 00:46:48.267964"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "entreprises" ("name", "street", "town", "zipcode", "country", "taxconfig", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "mystring"], ["street", "rue 24"], ["town", "Montreal"], ["zipcode", "H2S 2R9"], ["country", "CANADA"], ["taxconfig", 0], ["owner_id", 1], ["created_at", "2018-06-26 00:46:48.283108"], ["updated_at", "2018-06-26 00:46:48.283108"]]
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) AND ("entreprises"."id" != ?) LIMIT ?[0m  [["name", "mystring"], ["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL AND ("entreprises"."id" != ?) LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprises"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "tester@12"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprises"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "tester@12"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Load (0.1ms)[0m  [1m[34mSELECT  "entreprises".* FROM "entreprises" ORDER BY "entreprises"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "www"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", ".test"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "test/"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_2@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_2@factory.com"], ["encrypted_password", "$2a$04$M69Ins/XL7nU6YMgLjrXPetngfq8PK.Z8/B5Gg9/4IprGZnxehvuS"], ["created_at", "2018-06-26 00:46:48.507788"], ["updated_at", "2018-06-26 00:46:48.507788"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (6.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprise122"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_3@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_3@factory.com"], ["encrypted_password", "$2a$04$O8X6pMFCFGGuZbQlpTpX2u3YDeZQzjPEqK7LPzK7hS0CvwXVORHhq"], ["created_at", "2018-06-26 00:46:48.524911"], ["updated_at", "2018-06-26 00:46:48.524911"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_4@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_4@factory.com"], ["encrypted_password", "$2a$04$etXiBCveK4O6ZlWMk8HVEutgFzcaS1phcIBYl7b/E4DwPltMcY/42"], ["created_at", "2018-06-26 00:46:48.539038"], ["updated_at", "2018-06-26 00:46:48.539038"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defactor"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_5@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_5@factory.com"], ["encrypted_password", "$2a$04$Ae1OeA0r8zDXrrnyvJXsO.i4WUbsxuUgyRnKFoP8kgPJtAA465fHO"], ["created_at", "2018-06-26 00:46:48.548890"], ["updated_at", "2018-06-26 00:46:48.548890"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (6.9ms)[0m  [1m[31mDELETE FROM "entreprises";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (1.9ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'entreprises';[0m
  [1m[35m (1.8ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_1@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_1@factory.com"], ["encrypted_password", "$2a$04$OM/Zgv7kWidlLkw0BjfhQeW0Ug.vySHM1hbTgNPRafRldnc3Oz.96"], ["created_at", "2018-06-26 00:52:40.512156"], ["updated_at", "2018-06-26 00:52:40.512156"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "entreprises" ("name", "street", "town", "zipcode", "country", "taxconfig", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "mystring"], ["street", "rue 24"], ["town", "Montreal"], ["zipcode", "H2S 2R9"], ["country", "CANADA"], ["taxconfig", 0], ["owner_id", 1], ["created_at", "2018-06-26 00:52:40.528473"], ["updated_at", "2018-06-26 00:52:40.528473"]]
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) AND ("entreprises"."id" != ?) LIMIT ?[0m  [["name", "mystring"], ["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL AND ("entreprises"."id" != ?) LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprises"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "tester@12"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprises"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "tester@12"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Load (0.1ms)[0m  [1m[34mSELECT  "entreprises".* FROM "entreprises" ORDER BY "entreprises"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "www"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", ".test"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "test/"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_2@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_2@factory.com"], ["encrypted_password", "$2a$04$8c0GdkpiFnx/1XSssxyoF.G1C4YvAlCJezRUjXfLBz/g6rYMFQsoO"], ["created_at", "2018-06-26 00:52:40.737677"], ["updated_at", "2018-06-26 00:52:40.737677"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (6.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprise122"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_3@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_3@factory.com"], ["encrypted_password", "$2a$04$1wMFEKclWWLZ8jYsJ5i1J.csX0aL4397OUNRffYFAAu9zLlc9.P/C"], ["created_at", "2018-06-26 00:52:40.753260"], ["updated_at", "2018-06-26 00:52:40.753260"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_4@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_4@factory.com"], ["encrypted_password", "$2a$04$sOOdKBhWmmxQSH90KCgGgusTG0q02x/otneuX/OEFIr1TDcyYn8F6"], ["created_at", "2018-06-26 00:52:40.762878"], ["updated_at", "2018-06-26 00:52:40.762878"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defactor"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_5@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_5@factory.com"], ["encrypted_password", "$2a$04$b8dDcGylGS5ktJAnwAKfouk1wODfxnSeEyOrOEEJUBBVdUL.tju/C"], ["created_at", "2018-06-26 00:52:40.781670"], ["updated_at", "2018-06-26 00:52:40.781670"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (6.8ms)[0m  [1m[31mDELETE FROM "entreprises";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (1.9ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'entreprises';[0m
  [1m[35m (1.6ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (6.8ms)[0m  [1m[31mDELETE FROM "entreprises";[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'entreprises';[0m
  [1m[35m (1.5ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.7ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_1@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_1@factory.com"], ["encrypted_password", "$2a$04$BHaXbBSx2DdBe0T.nXsTlupTXsby0yLxIWgrFzMzH9Q7wyAZgVqja"], ["created_at", "2018-06-26 01:00:44.732556"], ["updated_at", "2018-06-26 01:00:44.732556"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "entreprises" ("name", "street", "town", "zipcode", "country", "taxconfig", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "mystring"], ["street", "rue 24"], ["town", "Montreal"], ["zipcode", "H2S 2R9"], ["country", "CANADA"], ["taxconfig", 0], ["owner_id", 1], ["created_at", "2018-06-26 01:00:44.748715"], ["updated_at", "2018-06-26 01:00:44.748715"]]
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) AND ("entreprises"."id" != ?) LIMIT ?[0m  [["name", "mystring"], ["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL AND ("entreprises"."id" != ?) LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprises"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "tester@12"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprises"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "tester@12"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Load (0.1ms)[0m  [1m[34mSELECT  "entreprises".* FROM "entreprises" ORDER BY "entreprises"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "www"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", ".test"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "test/"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_2@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_2@factory.com"], ["encrypted_password", "$2a$04$3EUPTJxBNHNwDMLn1s8qHuALNFbjOkiz73.YjNXCSF.jjvnqb3V1."], ["created_at", "2018-06-26 01:00:44.971064"], ["updated_at", "2018-06-26 01:00:44.971064"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (6.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprise122"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_3@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_3@factory.com"], ["encrypted_password", "$2a$04$q5NjyBToKwsGSTeTVfvBOuemJ1qLKRiBpdTLe1BpLiI53aS5mQJgq"], ["created_at", "2018-06-26 01:00:44.988263"], ["updated_at", "2018-06-26 01:00:44.988263"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_4@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_4@factory.com"], ["encrypted_password", "$2a$04$NKRYdg4fTc1Ju.CSG1GLCOzzCXB2Sl/jLg89/U.MzeyiROQdUwuq2"], ["created_at", "2018-06-26 01:00:45.003045"], ["updated_at", "2018-06-26 01:00:45.003045"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defactor"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_5@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_5@factory.com"], ["encrypted_password", "$2a$04$ifsXFK0pCkW8olwM1z52hu1FqLRLnJk2m9zf6oVLbK.bBFEWzAKgW"], ["created_at", "2018-06-26 01:00:45.013605"], ["updated_at", "2018-06-26 01:00:45.013605"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (6.7ms)[0m  [1m[31mDELETE FROM "entreprises";[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (1.9ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'entreprises';[0m
  [1m[35m (2.2ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (2.3ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.9ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_1@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_1@factory.com"], ["encrypted_password", "$2a$04$8AZ8/maXbDK2TAFAkes/pOKMjIXZYxKlBvFlve.AkjrQ3GASaklwm"], ["created_at", "2018-06-26 01:03:01.713053"], ["updated_at", "2018-06-26 01:03:01.713053"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "entreprises" ("name", "street", "town", "zipcode", "country", "taxconfig", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "mystring"], ["street", "rue 24"], ["town", "Montreal"], ["zipcode", "H2S 2R9"], ["country", "CANADA"], ["taxconfig", 0], ["owner_id", 1], ["created_at", "2018-06-26 01:03:01.730377"], ["updated_at", "2018-06-26 01:03:01.730377"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) AND ("entreprises"."id" != ?) LIMIT ?[0m  [["name", "mystring"], ["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL AND ("entreprises"."id" != ?) LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (2.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprises"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "tester@12"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprises"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "tester@12"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Load (0.2ms)[0m  [1m[34mSELECT  "entreprises".* FROM "entreprises" ORDER BY "entreprises"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "entreprises" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2018-06-26 01:03:01.929482"], ["updated_at", "2018-06-26 01:03:01.929482"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "entreprises" SET "name" = ?, "updated_at" = ? WHERE "entreprises"."id" = ?[0m  [["name", "an arbitrary value"], ["updated_at", "2018-06-26 01:03:01.932185"], ["id", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEntreprise Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "an arbitrary value"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "an arbitrary value"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "www"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", ".test"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "test/"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_2@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_2@factory.com"], ["encrypted_password", "$2a$04$910iIIavNwnjgjiuLZp0V.lnKQpSCXtZSLS0zA.Ji9On6y5e0I0O."], ["created_at", "2018-06-26 01:03:02.000356"], ["updated_at", "2018-06-26 01:03:02.000356"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprise122"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "entreprises" ("name", "street", "town", "zipcode", "country", "taxconfig", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "entreprise122"], ["street", "rue 24"], ["town", "Montreal"], ["zipcode", "H2S 2R9"], ["country", "CANADA"], ["taxconfig", 0], ["owner_id", 1], ["created_at", "2018-06-26 01:03:02.007007"], ["updated_at", "2018-06-26 01:03:02.007007"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_3@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_3@factory.com"], ["encrypted_password", "$2a$04$guxmdV3ugNDFit7gVXtU2uP9X9tQ5GAhxa2EiXKtuOLBwJ1tF.sWm"], ["created_at", "2018-06-26 01:03:02.013599"], ["updated_at", "2018-06-26 01:03:02.013599"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprise122"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (2.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_4@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_4@factory.com"], ["encrypted_password", "$2a$04$qtFJKTix/b1kiMEonw/WS.IGK/Rz.hI9FVTG1f4mye4AqCjDRlknq"], ["created_at", "2018-06-26 01:03:02.024676"], ["updated_at", "2018-06-26 01:03:02.024676"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "entreprises" ("name", "street", "town", "zipcode", "country", "taxconfig", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "mystring"], ["street", "rue 24"], ["town", "Montreal"], ["zipcode", "H2S 2R9"], ["country", "CANADA"], ["taxconfig", 0], ["subdomain", "defacto"], ["owner_id", 1], ["created_at", "2018-06-26 01:03:02.028024"], ["updated_at", "2018-06-26 01:03:02.028024"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_5@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_5@factory.com"], ["encrypted_password", "$2a$04$WZmD72sPwOwnyUX5rI3qQOmMxDtvZw01cAtTQi8mZJCuRJG.gmeiy"], ["created_at", "2018-06-26 01:03:02.034433"], ["updated_at", "2018-06-26 01:03:02.034433"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEntreprise Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_6@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_6@factory.com"], ["encrypted_password", "$2a$04$v9EoSHzBQ4KtZ7yFqZwNOONDqBUl.v5pqwaPUPue/YxuYyXOdsB6."], ["created_at", "2018-06-26 01:03:02.053689"], ["updated_at", "2018-06-26 01:03:02.053689"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEntreprise Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defactor"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "entreprises" ("name", "street", "town", "zipcode", "country", "taxconfig", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "mystring"], ["street", "rue 24"], ["town", "Montreal"], ["zipcode", "H2S 2R9"], ["country", "CANADA"], ["taxconfig", 0], ["subdomain", "defactor"], ["owner_id", 1], ["created_at", "2018-06-26 01:03:02.063660"], ["updated_at", "2018-06-26 01:03:02.063660"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_7@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_7@factory.com"], ["encrypted_password", "$2a$04$ILYL3RYuFm1cpYvZ0FAwuu1y3gtc8TK8HO3wzN9irgmED6T5IBQ06"], ["created_at", "2018-06-26 01:03:02.081442"], ["updated_at", "2018-06-26 01:03:02.081442"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (6.7ms)[0m  [1m[31mDELETE FROM "entreprises";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'entreprises';[0m
  [1m[35m (1.7ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_1@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_1@factory.com"], ["encrypted_password", "$2a$04$SsXu40ODaUBV2Q7iaoNnZ.94Nc.jpE7awF4NRzAzAfPjJYkOumAPW"], ["created_at", "2018-06-26 01:06:10.375175"], ["updated_at", "2018-06-26 01:06:10.375175"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "entreprises" ("name", "street", "town", "zipcode", "country", "taxconfig", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "mystring"], ["street", "rue 24"], ["town", "Montreal"], ["zipcode", "H2S 2R9"], ["country", "CANADA"], ["taxconfig", 0], ["owner_id", 1], ["created_at", "2018-06-26 01:06:10.389175"], ["updated_at", "2018-06-26 01:06:10.389175"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) AND ("entreprises"."id" != ?) LIMIT ?[0m  [["name", "mystring"], ["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL AND ("entreprises"."id" != ?) LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprises"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "tester@12"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprises"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "tester@12"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Load (0.1ms)[0m  [1m[34mSELECT  "entreprises".* FROM "entreprises" ORDER BY "entreprises"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "entreprises" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2018-06-26 01:06:10.558612"], ["updated_at", "2018-06-26 01:06:10.558612"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "entreprises" SET "name" = ?, "updated_at" = ? WHERE "entreprises"."id" = ?[0m  [["name", "an arbitrary value"], ["updated_at", "2018-06-26 01:06:10.559915"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "an arbitrary value"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "an arbitrary value"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "www"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", ".test"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "test/"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprise122"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "tester@12"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprise122"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "tester@12"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_2@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_2@factory.com"], ["encrypted_password", "$2a$04$raPPrt.I9hpJuSGRJ7nUY.rHjrBgL/WUNK70/mY.G/qkEi/mKknBu"], ["created_at", "2018-06-26 01:06:10.625992"], ["updated_at", "2018-06-26 01:06:10.625992"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "entreprises" ("name", "street", "town", "zipcode", "country", "taxconfig", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "mystring"], ["street", "rue 24"], ["town", "Montreal"], ["zipcode", "H2S 2R9"], ["country", "CANADA"], ["taxconfig", 0], ["subdomain", "defacto"], ["owner_id", 1], ["created_at", "2018-06-26 01:06:10.630192"], ["updated_at", "2018-06-26 01:06:10.630192"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_3@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_3@factory.com"], ["encrypted_password", "$2a$04$EngtXDdoQOV7NIMMbjHJbuOTy75.3Vv7GZE1qfUvHXDqm8y29D.qa"], ["created_at", "2018-06-26 01:06:10.636612"], ["updated_at", "2018-06-26 01:06:10.636612"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[35m (2.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_4@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_4@factory.com"], ["encrypted_password", "$2a$04$kLD6qUG56.9EIuJ7t9hZg.IV8dUK3/g.X.wFdRpiGE1U1.vogYt8a"], ["created_at", "2018-06-26 01:06:10.649680"], ["updated_at", "2018-06-26 01:06:10.649680"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEntreprise Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defactor"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "entreprises" ("name", "street", "town", "zipcode", "country", "taxconfig", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "mystring"], ["street", "rue 24"], ["town", "Montreal"], ["zipcode", "H2S 2R9"], ["country", "CANADA"], ["taxconfig", 0], ["subdomain", "defactor"], ["owner_id", 1], ["created_at", "2018-06-26 01:06:10.658433"], ["updated_at", "2018-06-26 01:06:10.658433"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_5@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_5@factory.com"], ["encrypted_password", "$2a$04$MIbGQ9rEJiBF/97LdDEh/e6zO4Oa5.Uynah.Ow3ppwk.06smJJTfK"], ["created_at", "2018-06-26 01:06:10.676041"], ["updated_at", "2018-06-26 01:06:10.676041"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (6.3ms)[0m  [1m[31mDELETE FROM "entreprises";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'entreprises';[0m
  [1m[35m (1.6ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.9ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_1@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_1@factory.com"], ["encrypted_password", "$2a$04$A4ssoSYNJh6iJvWDBJXibeh.6shZ8M..C915pvF5iVu7jiCJV6BXy"], ["created_at", "2018-06-26 01:09:44.562536"], ["updated_at", "2018-06-26 01:09:44.562536"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "entreprises" ("name", "street", "town", "zipcode", "country", "taxconfig", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "mystring"], ["street", "rue 24"], ["town", "Montreal"], ["zipcode", "H2S 2R9"], ["country", "CANADA"], ["taxconfig", 0], ["owner_id", 1], ["created_at", "2018-06-26 01:09:44.581953"], ["updated_at", "2018-06-26 01:09:44.581953"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) AND ("entreprises"."id" != ?) LIMIT ?[0m  [["name", "mystring"], ["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL AND ("entreprises"."id" != ?) LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (2.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprises"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "tester@12"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprises"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "tester@12"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "www"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", ".test"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "test/"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprise122"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "tester@12"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprise122"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "tester@12"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_2@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_2@factory.com"], ["encrypted_password", "$2a$04$GqDpmSawSpTPozaY0DEJIOXGIUEbYdHhMW5VuAwUVGPoJ1bgBdeZ2"], ["created_at", "2018-06-26 01:09:44.779945"], ["updated_at", "2018-06-26 01:09:44.779945"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "defacto"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "entreprises" ("name", "street", "town", "zipcode", "country", "taxconfig", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "defacto"], ["street", "rue 24"], ["town", "Montreal"], ["zipcode", "H2S 2R9"], ["country", "CANADA"], ["taxconfig", 0], ["owner_id", 1], ["created_at", "2018-06-26 01:09:44.786428"], ["updated_at", "2018-06-26 01:09:44.786428"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_3@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_3@factory.com"], ["encrypted_password", "$2a$04$jwkRfMJCTTfxhwpQi2Avhu3I08PLG5QclpmfRLCAFpoBtWGQXPsQi"], ["created_at", "2018-06-26 01:09:44.791875"], ["updated_at", "2018-06-26 01:09:44.791875"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "defacto"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (5.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_4@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_4@factory.com"], ["encrypted_password", "$2a$04$KIFFG6PDjWYkEWU/MBAZbuJVp82bVUghC2okSwZjkdyIpMBLy.9Ay"], ["created_at", "2018-06-26 01:09:44.809667"], ["updated_at", "2018-06-26 01:09:44.809667"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "entreprises" ("name", "street", "town", "zipcode", "country", "taxconfig", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "mystring"], ["street", "rue 24"], ["town", "Montreal"], ["zipcode", "H2S 2R9"], ["country", "CANADA"], ["taxconfig", 0], ["subdomain", "defacto"], ["owner_id", 1], ["created_at", "2018-06-26 01:09:44.813488"], ["updated_at", "2018-06-26 01:09:44.813488"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_5@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_5@factory.com"], ["encrypted_password", "$2a$04$unSBnBxAq8UpVaZHzjP4ju6s4UXmsk4dqKwr8vMT71x585lZjhPxq"], ["created_at", "2018-06-26 01:09:44.820012"], ["updated_at", "2018-06-26 01:09:44.820012"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_6@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_6@factory.com"], ["encrypted_password", "$2a$04$Ex2ujZVRiSr2YC.DDdUA9uMQrq8GUkLBTiIAp.nLU43ZryI8QOZJ2"], ["created_at", "2018-06-26 01:09:44.831068"], ["updated_at", "2018-06-26 01:09:44.831068"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defactor"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "entreprises" ("name", "street", "town", "zipcode", "country", "taxconfig", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "mystring"], ["street", "rue 24"], ["town", "Montreal"], ["zipcode", "H2S 2R9"], ["country", "CANADA"], ["taxconfig", 0], ["subdomain", "defactor"], ["owner_id", 1], ["created_at", "2018-06-26 01:09:44.838147"], ["updated_at", "2018-06-26 01:09:44.838147"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_7@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_7@factory.com"], ["encrypted_password", "$2a$04$kMga9Ip7orGzxcpOM2dIVOtPDsz7NbLtdEpFYPRHtYbditEBqV9aG"], ["created_at", "2018-06-26 01:09:44.845944"], ["updated_at", "2018-06-26 01:09:44.845944"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (2.3ms)[0m  [1m[31mDELETE FROM "entreprises";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'entreprises';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (6.2ms)[0m  [1m[31mDELETE FROM "entreprises";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'entreprises';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.5ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "entreprises";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'entreprises';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_1@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_1@factory.com"], ["encrypted_password", "$2a$04$FTaxQozAZE/y3ubQbT6qeOmRaIVm13KyY70DYQ1cxOyS2O8bHHRcm"], ["created_at", "2018-06-30 22:54:00.977258"], ["updated_at", "2018-06-30 22:54:00.977258"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEntreprise Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "entreprises" ("name", "street", "town", "zipcode", "country", "taxconfig", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "mystring"], ["street", "rue 24"], ["town", "Montreal"], ["zipcode", "H2S 2R9"], ["country", "CANADA"], ["taxconfig", 0], ["owner_id", 1], ["created_at", "2018-06-30 22:54:00.992116"], ["updated_at", "2018-06-30 22:54:00.992116"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) AND ("entreprises"."id" != ?) LIMIT ?[0m  [["name", "mystring"], ["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL AND ("entreprises"."id" != ?) LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprises"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "tester@12"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprises"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "tester@12"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "www"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", ".test"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "test/"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprise122"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "tester@12"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprise122"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "tester@12"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_2@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_2@factory.com"], ["encrypted_password", "$2a$04$Rg1jB.KETAGPLs1c.GbR/uHan1IOdpOeB9HfDDVYZB7NllmCciqH2"], ["created_at", "2018-06-30 22:54:01.216602"], ["updated_at", "2018-06-30 22:54:01.216602"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "defacto"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "entreprises" ("name", "street", "town", "zipcode", "country", "taxconfig", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "defacto"], ["street", "rue 24"], ["town", "Montreal"], ["zipcode", "H2S 2R9"], ["country", "CANADA"], ["taxconfig", 0], ["owner_id", 1], ["created_at", "2018-06-30 22:54:01.221297"], ["updated_at", "2018-06-30 22:54:01.221297"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_3@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_3@factory.com"], ["encrypted_password", "$2a$04$iieu00v3hK.esECios3cbe1l7FMlrK1sdbayZ7mJHQ3KK5lBRh3h."], ["created_at", "2018-06-30 22:54:01.226710"], ["updated_at", "2018-06-30 22:54:01.226710"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "defacto"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_4@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_4@factory.com"], ["encrypted_password", "$2a$04$KhKSIWoWBxGZeiFZOexIfOSDb7xIIuOIRgBFmXVGgwA1qSNmyNnpi"], ["created_at", "2018-06-30 22:54:01.236966"], ["updated_at", "2018-06-30 22:54:01.236966"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "entreprises" ("name", "street", "town", "zipcode", "country", "taxconfig", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "mystring"], ["street", "rue 24"], ["town", "Montreal"], ["zipcode", "H2S 2R9"], ["country", "CANADA"], ["taxconfig", 0], ["subdomain", "defacto"], ["owner_id", 1], ["created_at", "2018-06-30 22:54:01.241734"], ["updated_at", "2018-06-30 22:54:01.241734"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_5@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_5@factory.com"], ["encrypted_password", "$2a$04$M.RsJmJuRkEH.E4VYOenjeG3bKQTvJTbq7eg7ljLeKsZCnmGjopI."], ["created_at", "2018-06-30 22:54:01.248123"], ["updated_at", "2018-06-30 22:54:01.248123"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_6@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_6@factory.com"], ["encrypted_password", "$2a$04$yvo/wbRp0.WurwF7AksF1.mkZ8fWKDCRTHEOv/nDQTS4H8ONxYs4u"], ["created_at", "2018-06-30 22:54:01.259342"], ["updated_at", "2018-06-30 22:54:01.259342"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defactor"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "entreprises" ("name", "street", "town", "zipcode", "country", "taxconfig", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "mystring"], ["street", "rue 24"], ["town", "Montreal"], ["zipcode", "H2S 2R9"], ["country", "CANADA"], ["taxconfig", 0], ["subdomain", "defactor"], ["owner_id", 1], ["created_at", "2018-06-30 22:54:01.264120"], ["updated_at", "2018-06-30 22:54:01.264120"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_7@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_7@factory.com"], ["encrypted_password", "$2a$04$3F3dFHOf2KotRubU6lyyz.y.vDKFTH9CwW6LGChe5aaSay9C1go.."], ["created_at", "2018-06-30 22:54:01.273201"], ["updated_at", "2018-06-30 22:54:01.273201"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.8ms)[0m  [1m[31mDELETE FROM "entreprises";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'entreprises';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (6.6ms)[0m  [1m[31mDELETE FROM "entreprises";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'entreprises';[0m
  [1m[35m (1.5ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.5ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_1@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_1@factory.com"], ["encrypted_password", "$2a$04$h90PP4jU.lQZ550SF3zH2uKyDeT2XOwAK6jidY6Xnniz8qjanogJy"], ["created_at", "2018-06-30 23:07:50.552896"], ["updated_at", "2018-06-30 23:07:50.552896"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "entreprises" ("name", "street", "town", "zipcode", "country", "taxconfig", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "mystring"], ["street", "rue 24"], ["town", "Montreal"], ["zipcode", "H2S 2R9"], ["country", "CANADA"], ["taxconfig", 0], ["owner_id", 1], ["created_at", "2018-06-30 23:07:50.564911"], ["updated_at", "2018-06-30 23:07:50.564911"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) AND ("entreprises"."id" != ?) LIMIT ?[0m  [["name", "mystring"], ["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL AND ("entreprises"."id" != ?) LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprises"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "tester@12"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprises"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "tester@12"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "www"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", ".test"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "test/"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprise122"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "tester@12"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "entreprise122"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "tester@12"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_2@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_2@factory.com"], ["encrypted_password", "$2a$04$AdjiTZV34X/UCQGnPRc0I.0nY67gFpEzdVLaxBdgZACcHs.ssRUo."], ["created_at", "2018-06-30 23:07:50.786223"], ["updated_at", "2018-06-30 23:07:50.786223"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "defacto"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "entreprises" ("name", "street", "town", "zipcode", "country", "taxconfig", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "defacto"], ["street", "rue 24"], ["town", "Montreal"], ["zipcode", "H2S 2R9"], ["country", "CANADA"], ["taxconfig", 0], ["owner_id", 1], ["created_at", "2018-06-30 23:07:50.789450"], ["updated_at", "2018-06-30 23:07:50.789450"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_3@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_3@factory.com"], ["encrypted_password", "$2a$04$P3vZy17Lgk2yipoQE9OVxeZHBkc0CQY/2Ut1wEJ7SuDwPjZzSsz4a"], ["created_at", "2018-06-30 23:07:50.793893"], ["updated_at", "2018-06-30 23:07:50.793893"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "defacto"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE "entreprises"."subdomain" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (2.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_4@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_4@factory.com"], ["encrypted_password", "$2a$04$ZrZPPg3755IGfNVJCatoj.JyoSF36UrPVQxPrnsuxBugSziD68s0e"], ["created_at", "2018-06-30 23:07:50.803317"], ["updated_at", "2018-06-30 23:07:50.803317"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "entreprises" ("name", "street", "town", "zipcode", "country", "taxconfig", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "mystring"], ["street", "rue 24"], ["town", "Montreal"], ["zipcode", "H2S 2R9"], ["country", "CANADA"], ["taxconfig", 0], ["subdomain", "defacto"], ["owner_id", 1], ["created_at", "2018-06-30 23:07:50.807047"], ["updated_at", "2018-06-30 23:07:50.807047"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_5@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_5@factory.com"], ["encrypted_password", "$2a$04$a8mVwSi9LybrK3ic0ZwR3eNcXIIdiAhLanK2S.HZybSXYt2pTyE/2"], ["created_at", "2018-06-30 23:07:50.812146"], ["updated_at", "2018-06-30 23:07:50.812146"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defacto"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_6@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_6@factory.com"], ["encrypted_password", "$2a$04$M9DWUQkebX8yDqBtsq2zoOnFDr6Mo8jdKLLd8xydVwWIxh.a1zlSm"], ["created_at", "2018-06-30 23:07:50.823486"], ["updated_at", "2018-06-30 23:07:50.823486"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEntreprise Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."name") = LOWER(?) LIMIT ?[0m  [["name", "mystring"], ["LIMIT", 1]]
  [1m[36mEntreprise Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "entreprises" WHERE LOWER("entreprises"."subdomain") = LOWER(?) LIMIT ?[0m  [["subdomain", "defactor"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "entreprises" ("name", "street", "town", "zipcode", "country", "taxconfig", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "mystring"], ["street", "rue 24"], ["town", "Montreal"], ["zipcode", "H2S 2R9"], ["country", "CANADA"], ["taxconfig", 0], ["subdomain", "defactor"], ["owner_id", 1], ["created_at", "2018-06-30 23:07:50.828177"], ["updated_at", "2018-06-30 23:07:50.828177"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user_7@factory.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "fullname", "capacity", "cost", "employee", "active", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user_7@factory.com"], ["encrypted_password", "$2a$04$LU4mEUCNyN7KbgKWVqJdV.5/uguhsvQnPpq4FxNJPWaVBTfBgrSWe"], ["created_at", "2018-06-30 23:07:50.837352"], ["updated_at", "2018-06-30 23:07:50.837352"], ["first_name", "John"], ["last_name", "Doe"], ["fullname", "joe test"], ["capacity", 40], ["cost", 10.0], ["employee", "f"], ["active", "f"], ["role", "user"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "unvalid@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
